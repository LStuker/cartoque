<!DOCTYPE html>
<html>

<head>
  <title><%= content_for?(:title) ? yield(:title) : "Untitled" %></title>
  <meta charset="UTF-8">
  <noscript><%= stylesheet_link_tag "adapt/mobile.min" %></noscript>
  <script>
    var ADAPT_CONFIG = {
      path: '/stylesheets/adapt/', dynamic: true,
      range: [ '0px    to 760px  = mobile.min.css',
               '760px  to 980px  = 720.min.css',
               '980px  to 1280px = 960.min.css',
               '1280px           = 1200.min.css']
               //'1280px to 1600px = 1200.min.css',
               //'1600px to 1920px = 1560.min.css',
               //'1920px           = fluid.min.css' ]
    };
  </script>
  <%= javascript_include_tag "adapt.min" %>
  <%= stylesheet_link_tag "reset" %>
  <%= stylesheet_link_tag "application", :media => "all" %>
  <%= stylesheet_link_tag "jquery.bsmselect", "jquery.bsmselect-custom" %>
  <%= javascript_include_tag :defaults %>
  <%= javascript_include_tag "jquery.bind-with-delay", "jquery.observer" %>
  <%= javascript_include_tag "jquery.bsmselect", "jquery.bsmselect.compatibility", "jquery.bsmselect.sortable" %>
  <%= javascript_include_tag "jquery.reject.min" %>
  <script type="text/javascript">
        // reject bad browsers
    $(function() {
      $.reject({
        reject: { all: false, msie: true },
        display: ["firefox","chrome","safari","opera","gcf"],
        header: "Navigateur non supporté",
        paragraph1: "Votre navigateur n'est pas supporté, vous ne pourrez donc pas utiliser correctement cette application.",
        paragraph2: "Veuillez utiliser un navigateur moderne et respectueux des standards :",
        close: false
      });
    });
  </script>
  <%= csrf_meta_tag %>
  <%= yield(:head) %>
</head>

<body>

  <div id="container" class="container_12 clearfix">
    <div class="grid_12">
      <div id="top-menu" class="hide-when-print">
        <div class="contextual">
        <% if logged_in? %>
          <span class="connected-as"><%= current_user.name %></span> |
          <%= link_to "Déconnexion", signout_path %>
        <% end %>
        </div>
        <%= link_to image_tag("home.png", :alt=>"Accueil"), root_path, :class => "img" %>
      <% if logged_in? %> |
        <%= link_to "Applications", applications_path %>
        <%= link_to "SaaS", saa_path(:redmine) %> |
        <%= link_to "Tomcats", tomcats_path %>
        <%= link_to "Bases", databases_path %> |
        <%= link_to "Serveurs", machines_path %> 
        <%= link_to "Stockage", storages_path %> |
        <%= link_to "Outils", tool_path(:nagios_comparison), :class => "tiny" %>
        <%= link_to "Configuration", operating_systems_path, :class => "tiny" %>
      <% end %>
      </div>

      <% flash.each do |name, msg| %>
        <%= content_tag :div, msg, :id => "flash_#{name}" %>
      <% end %>

    </div><!-- end-of-grid_12 -->

    <div class="clear"></div>

    <% if content_for?(:sidebar) %>
      <div class="grid_3 hide-when-print">
        <div id="sidebar">
          <%= yield(:sidebar) %>
        </div>
      </div>
    <% end %>

    <%= content_tag(:h1, yield(:title), :class => controller.controller_name) if show_title? %>
    <%= yield %>

    <div class="clear"></div>

    <div id="footer" class="grid_12 hide-when-print">
      <%= show_version %>
    </div>
  </div>

</body>

</html>
