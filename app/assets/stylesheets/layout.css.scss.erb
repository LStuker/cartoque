/* Sass mixins */
@import 'mixins';

/* general styles */
html { overflow-y:scroll; }
body { min-width:800px; font-family:Verdana, Helvetica, Arial; font-size:12px; margin:0; cursor:default; background-image:url(<%= asset_path 'bg-noise.png' %>); }
div { margin:0; }
a img, img.inline { border:none; margin:-2px 2px 0px 0; }
a {
  color:#00b; text-decoration:none;
  &:hover { color:#e06; text-decoration:none; }
}
caption { padding:0 0 5px 0; margin:0 auto; width:auto; font:italic 11px "Trebuchet MS", Verdana, Arial, Helvetica, sans-serif; text-align:right; }
ul { margin:0.5em 0.5em 0.5em 2em; list-style-type:none; }
small { font-size:90%; }

/* input styles taken from formalize */
input:focus, input:active, textarea:focus, textarea:active {
  @include box-shadow(#06f, 0, 0, 4px);
}

/* fonts */
@font-face { font-family:'Lobster'; font-style:normal; font-weight:normal; src:local('Lobster1.4'), local('Lobster'), url('../fonts/Lobster.ttf') format('truetype'); }
@font-face { font-family:'Ubuntu'; font-style:normal; font-weight:normal; src:local('Ubuntu-R'), local('Ubuntu'), url('../fonts/Ubuntu-R.ttf') format('truetype'); }

/* 960.gs patches ; too hard to integrate otherwise */
.grid_12 .grid_6 { margin-left:0; margin-right:0; }
.grid_12 .grid_6 + .grid_6 { margin-left:20px; }

/* titles */
h1, h2 { font-weight:bold; font-family:Ubuntu,verdana,arial,sans-serif; letter-spacing:1px; }
h1 { color:#222; font-size:2em; margin:0.3em -10px 0; padding:0.3em 1.2em 0.5em 1.2em; text-shadow:1px 1px 0px #aaa; }
h2 { font-size:15px; color:#44444a; text-align:center; margin:6px auto 8px; text-shadow:1px 2px #f8f8f8; }

/* tables */
table { padding:0; margin-top:0; margin-bottom:2px; border-collapse:collapse; margin-left:auto; margin-right:auto; }
th, td { vertical-align:middle; padding:4px 6px 3px; }
th { text-align:center; font-weight:bold; }
td { background-color:#fff; }
th a { text-decoration:none; color:#433; background:transparent; }
td img { margin:0 auto; }
td.label { width:75px; text-align:left; padding:6px; }
.list {
  border:1px solid #ccc;
  td { border-bottom:1px solid #ccc; color:#433; padding:2px 4px; }
  td.multirow { border-right:1px solid #ccc; }
}
.pretty {
  th.current a { background-repeat:no-repeat; background-position:left center; padding-left:12px; }
  th.asc a { background-image:url(<%= asset_path 'arrow_up_grey.png' %>); }
  th.desc a { background-image:url(<%= asset_path 'arrow_down_grey.png' %>); }
  th.sortable a, th.current a { border-bottom:1px solid #aaa; }
  td { padding:5px 7px 4px; }
}
.hover { background-color:#e4ebf8; cursor:default; }
div.operating_system:hover { @extend .hover; }
tbody.long-list tr:hover {
  td { @extend .hover; }
  td.multirow { background-color:inherit !important; }
}
td.multirow+td.hidden { border-bottom:0; border-top:0; height:0; padding:0; }

/* commodities */
.center { text-align:center; }
.left { text-align:left; }
.right { text-align:right; }
.full { width:100%; }
.ninety { width:90%; }
.contextual { float:right; }
.contextual * { padding:0; margin:0; }
.before-contextual { position:absolute; right:60px; }
.hidden { display:none; }
.more { font-size:90%; text-align:left; }
.more:hover, .more-next:hover, .more-child:hover { cursor:pointer; }
.tiny { font-size:90%; }
.tinier { font-size:80%; }
.simple-list {
  margin:0; position:relative; display:block; padding:0 0 0 1.5em; list-style-type:none;
  li { margin-top:3px; }
}
.nocut { display:inline-block; white-space:nowrap; }
.opaque { opacity:0; }
.has-opaques:hover .opaque { opacity:1; }
button, a.button, input[type=submit], a.button-add, a.button-mail {
  padding:4px 8px; cursor:pointer; display:inline-block; text-shadow:0 1px 1px #fff; font-weight:bold;
  color:#222; border:solid 1px #aaa; text-decoration:none; text-align:center; @include transition(all, .1s);
  @include border-radius(3px); @include gradient(#fff, #e3e3e3); box-shadow:none;
  &:hover { color:#333; @include gradient(#fff, #ddd); box-shadow:0 0 2px #e5e5e5; border:1px solid #888; }
  &:active { position:relative; top:1px; }
}
button.inline { padding:2px 4px; font-size:11px; font-weight:normal; position:relative; bottom:1px; }
a.button-mail {
  @include border-radius(4px); @include background-image-gradient('..<%= asset_path 'email.png' %>', #fff, #e3e3e3);
  background-position:4px 60%, 0 50%; background-repeat: no-repeat;
  &:hover { @include background-image-gradient('..<%= asset_path 'email.png' %>', #fefefe, #e0e0e0); background-position:4px 60%, 0 50%; }
}
a.button-add {
  @include border-radius(12px); @include background-image-gradient('..<%= asset_path 'add.png' %>', #fff, #e3e3e3);
  background-position:4px 50%, 0 50%; background-repeat: no-repeat;
  &:hover { @include background-image-gradient('..<%= asset_path 'add.png' %>', #fefefe, #e0e0e0); background-position:4px 50%, 0 50%; }
}
a.button-add, a.button-mail {
  padding:4px 12px 4px 24px; border:1px solid #bbb; font-weight:normal; line-height:14px; box-shadow:none;
  &:hover { background-repeat: no-repeat; }
}

ul.details {
  margin:0.2em 0.5em 0.2em 0.8em;
  li { margin:0.5em 0; font-size:90%; }
}
ul.comparison {
  margin:5px; list-style-type:none; display:block; clear:both;
  li { margin:0; float:left; margin:2px; padding:3px 5px; background-color:#f8f8f8; border:1px solid #eee; }
}

/* icons */
.icon { background-position: 0% 50%; background-repeat: no-repeat; padding-left: 20px; padding-top: 2px; padding-bottom: 3px; }
.icon-url { background-image: url(..<%= asset_path 'external.png' %>); padding-left:15px; }
.icon-server { background-image: url(..<%= asset_path 'server_12.png' %>); padding-left:15px; }
.action {
  width:16px; height:16px; @include opacity(0.8); position:relative; top:-2px;
  &:hover { @include opacity(1); }
}

/* wrappers */
noscript { z-index:200; position:fixed; top:0; left:0; width:100%; height:100%; font-size:150%; padding-top:100px;
           background:#f00; font-weight:bold; color:#fff; text-align:center }
#container { background-color:#fff; text-align:left; min-height:100%; @include box-shadow(0, 0, 15px, #bbb); }
.column_wrapper { float:left; margin:0 15px 0 5px; }
#footer { text-align:center; color:#ccc; font-size:90%; border-top:1px solid #ddd; padding-top:5px; margin-top:10px; margin-bottom:10px; }

/* errors, warnings */
#flash {
  padding:0; margin:0 auto; text-align:center; max-width:400px; font-weight:bold;
  .flash-item { padding:6px 10px; margin:2px; @include border-radius(4px); }
  .flash-notice { background-color:#ff9; color:#222; }
  .flash-error, .flash-alert { background-color:#FCC; color:#222; }
}
.field_with_errors *, #error_explanation * { color:#f00; }
.field_with_errors input, #error_explanation td { border:2px solid #f00; }
#error_explanation td {
  padding:0 8px;
  h2 { font-weight:normal; }
}
.error_messages {
  width:400px; border:2px solid #CF0000; padding:0px; padding-bottom:12px; margin-bottom:20px; background-color:#f0f0f0;
  h2 { text-align:left; padding:5px 10px; margin:0; background-color:#c00; color:#fff; }
  p { margin:8px 10px; }
  ul { margin:0; }
}
.not_found { font-weight:bold; font-size:200%; padding:50px; color:#cf0000; }

/* announcements ; styles from http://twitter.github.com/bootstrap v1.0.0 */
#announcement {
  margin:0; padding:0; color:#fff; font-size:11px;
  background-color: rgba(0, 0, 0, 0.15);
  background-repeat: repeat-x;
  /* a bit too complex to be put in a mixin.. */
  background-image: -khtml-gradient(linear, left top, left bottom, from(transparent), to(rgba(0, 0, 0, 0.15)));
  background-image: -moz-linear-gradient(transparent, rgba(0, 0, 0, 0.15));
  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, transparent), color-stop(100%, rgba(0, 0, 0, 0.15)));
  background-image: -webkit-linear-gradient(transparent, rgba(0, 0, 0, 0.15));
  background-image: -o-linear-gradient(transparent, rgba(0, 0, 0, 0.15));
  background-image: linear-gradient(transparent, rgba(0, 0, 0, 0.15));
  background-color: #e6e6e6;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
  border-bottom: 1px solid rgba(0, 0, 0, 0.25);
  p { text-align:center; margin:0; padding:7px 10px; }
  a {
    color:#fff; padding-bottom:1px; border-bottom:1px dotted #fff;
    &:hover { border-bottom:1px solid #fff; }
  }
  a.close {
    float:right; margin:0; padding:5px 10px; border-bottom:none; color:black; font-size:15px; font-weight:bold;
    text-decoration:none; text-shadow:0 1px 0 white; @include opacity(0.2);
    &:hover { @include opacity(0.4); }
  }
  &.info { background-color:#33bad9; }
  &.success { background-color:#74c474; }
  &.warning { background-color:#ffd75a; }
  &.error { background-color:#e06359; }
}

/* forms */
input[type="text"], input[type="password"], input[type="tel"], input[type="email"], input[type="url"], input[type="search"], textarea {
  padding:0.1em 0.2em; box-sizing: border-box; border: 1px solid; outline: 0; border-color: #b0b0b0 #c1c1c1 #e1e1e1;
  &:focus, &:active { @include box-shadow(#36F, 0, 0, 5px); }
}
textarea { margin-top:3px; }
.simple_form {
  div.input { margin-bottom:10px; }
  div.boolean label, label.collection_radio { float:none; margin:0; }
  label.collection_radio { margin-right:10px; margin-left:2px; }
  .error { clear:left; margin-left:120px; color:#D00; display:block; }
  .hint { clear:left; margin-left:120px; color:#555; display:block; font-style:italic; }
  .link-delete { font-size:90%; position:relative; top:-2px; }
  .link-delete img { position:relative; top:-1px; margin:0 1px; }
  .add-field {
    font-size:80%; margin:0.6em 0;
    a { color:#000; }
    a:hover { color:#e06; text-decoration:none; }
  }
  input[type="checkbox"] { margin:0 3px; position:relative; top:3px; }
  .fields {
    padding:0;
    input { margin:1px 0; }
    label { font-size:90%; }
  }
  .actions { margin:10px 0 5px; }
  th, tr.th td, th:first-child, td, td:first-child { padding:5px 7px; }
  tr.th label { font-size:100% !important; }
  tr.multiselect td.content { border-right:1px solid #ccc !important; }
  td.multiselect { padding-bottom:1em; }
}
.simple_form td.label label, .simple_form label.input, .show_for td.label, .show_for td label, span.label { font-size:85%; font-weight:bold; color:#666; }
th.secondary, .show_for th.secondary, .show_item th.secondary { border-top:1px solid #ccc; }
table.inputs, .show_item, .simple_form table, table.list { border:1px solid #ccc; }
.simple_form tr th, .simple_form tr.th td, .show_item th, .show_for tr.th td, .show_item th:first-child, .list th, .list tr.th td {
  text-transform:capitalize; font-weight:bold; padding:5px 7px; vertical-align:middle; text-shadow:1px 1px 2px #fff;
  color:#322; background-color:#f0f0f0; border-bottom: 1px solid #ccc;
  background:-moz-linear-gradient(100% 100% 90deg, #e5e5e5, #f0f0f0);
  background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#e5e5e5), to(#f0f0f0));
  background:-webkit-linear-gradient(#f0f0f0, #e5e5e5);
}
.list tr th:last-child, .list tr.th td:last-child { border-right:1px solid #ccc; }
label.required abbr { color:red; border-bottom:none; }

/* show_for */
.show_for td.content { min-width:50%; }

/* filters */
tr.filters {
  border-bottom:1px solid #ccc; border-top:1px solid #ffcc00; border-right:1px solid #ffcc00; border-left:1px solid #ffcc00; font-size:90%;
  input[type="text"] { border:1px solid #ccc; width:100%; }
  td, td:first-child, td:last-child {
    padding:3px 4px; text-align:center; background-color:#ffe400;
    /*background:-webkit-gradient( linear, left top, left bottom, color-stop(0, #ffe400), color-stop(1, #ffcc00) );
    background:-moz-linear-gradient( center top, #ffe400 0%, #ffcc00 100% ); */
    background:-webkit-gradient( linear, left top, left bottom, color-stop(0, #fff477), color-stop(1, #ffe466) );
    background:-moz-linear-gradient( center top, #fff477 0%, #ffe466 100% );
  }
  input[type="text"], input[type="password"], textarea {
    &:focus, &:active { @include box-shadow(#36F, 0, 0, 0); border-color:lighten(#36F,15%); border-width:1px; }
  }
}

/* generic items */
.items_list h1 { text-align:center; margin-top:0.3em; font-family:Verdana, Helvetica, Arial; color:#333; text-transform:uppercase; letter-spacing:1px; font-size:1.2em; }
.items_list>table { width:100%; }
.counter { font-style:italic; font-size:150%; float:right; font-weight:bold; }

/* ajax loading ; styles adapted from redmine */
#loading { position:absolute; background-color:#f5f5f5; color:#666; border:1px solid #ddd; top:40%; left:35%; width:30%; height:50px; line-height:50px;
           font-weight:bold; font-size:120%; text-align:center; padding:0.6em; z-index:100; opacity: 0.9; display:none; }
html>body #loading { position:fixed; }
#loading span { background-position:0% 40%; background-repeat:no-repeat; background-image:url(..<%= asset_path 'loading.gif' %>);
                       padding-left:26px; vertical-align:bottom; }

/* top menu */
#top-menu {
  font:13px/22px Arial,sans-serif; background-color:#ececec; /*color:#3366CC;*/ height:24px;
  margin:0 0 5px 0; background-color:#ececec; text-shadow:1px 1px 0 #fff;
  border-bottom:1px solid #ccc; padding-right:4px;

  a { text-decoration:none; color:#000; }
  a.tiny { display:block; margin-top:0; padding-top:1px; padding-bottom:1px; }
  a.img { padding-right:2px !important; }
  a.img img { margin-top:-3px; padding:0; }
  .has-submenu > a { padding:0 4px 2px 4px; display:inline-block; outline:none; }
  .has-submenu:hover, .menu-items > li:hover { background-color:#e7e7e7; }
  .active:hover { background-color:#f5f5f5; }
  .connected-as { font-weight:bold; padding-right:0.4em; }
  .connected-as:hover { background-color:#ececec; }
  ul { list-style-type:none; margin:0; }
  .menu-items { list-style-type:none; margin:0; padding:0 0 0 2px; }
  .menu-items > li { padding:0 1px; margin:0; float:left; height:24px; line-height:24px; }
  .menu-items > li > a { display:inline-block; padding:0 4px 0 4px; }
  .menu-items .large-submenu { position:absolute; border:1px solid /*#C3D1EC*/#ccc; @include box-shadow(0, 1px, 5px, #bbb); margin-top:-1px; margin-left:-10px;
                                       display:none; background-color:#f5f5f5; padding:0; left:0; }
  .submenu-1 { width:150px; }
  .submenu-2 { width:300px; }
  .submenu-3 { width:450px; }
  .submenu-4 { width:600px; }
  .active { position:relative; padding:0 !important; border:1px solid #ccc; border-top:0; border-bottom:0; }
  .active > a { background-color:#f5f5f5; display:inline-block; height:24px; position:relative; z-index:15; }
  .active .large-submenu { display:block !important; }
  .active .large-submenu a { border:0 !important; display:inline-block; padding:0.3em 0.4em 0.3em 0.6em !important; width:100%;
                                     -moz-box-sizing:border-box; -webkit-box-sizing:border-box; box-sizing:border-box; }
  .active .large-submenu a:hover { background-color:#e4ebf8 !important; @include border-radius(4px); }
  .large-submenu { color:#000; padding:2em; line-height:normal; z-index:10; }
  .large-submenu ul { padding:0.5em 0; list-style-type:none; width:150px; }
  .large-submenu li { padding:0em 1em; margin:0; }
  .large-submenu li.title { margin-top:0.4em; margin-bottom:0.2em; font-weight:bold; }
  li.tiny { height:24px; line-height:24px; }
  li.tiny > a { position:relative; bottom:-1px; font-size:12px; }
  li.tiny .large-submenu { font-size:13px; }
  .arrow { /* http://hedgerwow.appspot.com/demo/arrows */ border-style:dashed; border-color:transparent; border-width:0.5em;
                   display:-moz-inline-box; display:inline-block; /* Use font-size to control the size of the arrow. */ font-size:8px;
                   margin:0 0.2em 1px 0.4em; height:0; width:0; top:0.2em; line-height:0; position:relative; vertical-align:middle;
                   border-top-width:0.5em; border-top-style:solid; border-top-color:/*#36c*/#555; }
  li.right-separator { border-right:1px solid #ddd; }
  li.right-separator.active { border-right:2px solid #ddd; }
}

/* sidebar */
#sidebar {
  float:left; margin:15px 0 5px -20px; padding:10px; background-color:#fcfcfc;
  border:1px solid #d4d4d4; @include box-shadow(0, 0, 5px, #ccc);
  h2 {
    text-align:left; letter-spacing:normal; margin-top:0;
    img { @include opacity(0.8); margin:-4px 3px 0 0; }
  }
  ul {
    border-bottom:1px solid #ddd; padding:4px 14px 8px 14px;
    &:last-child { border-bottom:none; padding-bottom:0; margin-bottom:0; }
  }
}
 
/* actions */
.actions {
  text-align:center; font-size:95%; margin:5px 0;
  a:first-child { margin-left:5px; }
  /* contexts */
  li { list-style-type:none; margin:0; display:inline; }
  li a { float:left; margin-right:10px; padding:0 8px; text-shadow:1px 1px 0 rgba(255,255,255,0.7); }
  li a.selected { position:relative; top:-1px; font-weight:/*bold*/normal; background:#fff; border:1px solid #ccc; border-right-color:#eee; border-bottom-color:#eee; }
  div.contextswitch {
    position:absolute; right:0; top:0; height:13px; padding:6px 10px 6px 12px; border-left:1px solid #e9edf9;
    background:url(<%= asset_path 'context_back-up.png' %>) 100% -6px no-repeat; cursor:pointer;
    .toggle { display:block; height:13px; line-height:13px; padding-right:15px; font-weight:/*bold*/normal; color:#00b; cursor:pointer; }
    ul { display:none; margin:0; position:absolute; top:25px; right:-1px; background:#fff; border:1px solid #ccc; border-top:none; z-index:10;
         @include box-shadow(0, 1px, 5px, #bbb); }
    ul li { margin:0; padding:0; display:block; }
    ul li:first-child { margin-top:4px; }
    ul li.current { position:relative; display:block; padding:0.4em 0.5em; cursor:default; }
    ul li>a { float:none; display:block; margin:0; min-width:130px; padding:2px 12px 4px; white-space:nowrap; }
    &.activated {
      background-image:url(<%= asset_path 'context_back-down.png' %>);
      ul { display:block; background-color:#f5f5f5; }
      .toggle { color:#e04; }
    }
  }
}

td.actions div.actions { font-size:90%; margin:0; }
#container>.actions, .items_list>.actions, .grid_12>.actions { 
  position:relative; margin-bottom:4px; padding:4px 5px 3px; min-height:17px; line-height:15px;
  text-align:left; background-color:#edf3fe; color:#666; border:1px solid #def; 
  ul.select-buttons {
    list-style-type:none; margin:0; padding:0;
    li { padding-top:2px; margin:1px 0 2px; display:inline-block; height:12px; }
    a, a:hover { padding:2px 8px; margin:-2px 2px 1px 0; position:relative; bottom:1px; font-weight:bold;
                 color:#222; font-size:90%; @include border-radius(20px); }
    li a:hover { background-color:#999; color:#fff; text-shadow:1px 1px 0 #555; }
    li.current a { background-color:#667; color:#fff; text-shadow:1px 1px 0 #333; }
  }
}
#container>.actions a, .items_list>.actions a, .grid_12>.actions a { margin:0 2px; }

.contexts > li { width:100%; margin-bottom:0; padding:0; }
.contexts a { border:0 !important; display:inline-block; padding:0.4em 0.5em !important; width:100%;
              -moz-box-sizing:border-box; -webkit-box-sizing:border-box; box-sizing:border-box; }
.contexts a:hover { background-color:#e4ebf8 !important; color:normal; }
a.create-server {
  color:#e06; padding:0 3px 1px; top:0; margin-bottom:4px; font-weight:bold; @include border-radius(2px);
  &:hover { background-color:#e06; color:#fff; text-decoration:none; }
  &:active { position:relative; top:1px; }
}

/* progress bars */
table.progress {
  border-collapse:collapse; border-spacing:0; empty-cells:show; text-align:center; margin:2px 0 5px;
  td { border:1px solid #ccc; height:0.8em; font-size:90%; padding:1px; }
  td.closed { background:#aaa none repeat scroll 0%; }
  td.done { background:#DEF0DE none repeat scroll 0%; }
  td.open { background:#FFF none repeat scroll 0%; }
  td.legend { border:none; padding-left:6px; text-align:right; }
}
p.progress-info { clear:left; font-style:italic; font-size:90%; }

/* fixed elements */
tr.fix-on-scroll.fixed { border-top:none; }
tr.fixed {
  position:fixed; top:0; z-index:150;
  td, th {
    border-top:none !important;
    &:first-child { border-left:none; }
  }
}

/* auto completion */
ul.ui-autocomplete {
  position: absolute; list-style: none; margin: 0; padding: 0; border: solid 1px #999; cursor: default;
  li {
    background-color: #FFF; border-top: solid 1px #DDD; margin: 0; padding: 0;
    a { color: #000; display: block; padding: 3px; }
    a.ui-state-hover, a.ui-state-active { background-color: #FFFCB2; }
  }
}

/* postits */
.postit {
  @include box-shadow(0, 0, 5px, #999); padding:10px; font-weight:normal; text-align:left;
  background-color:#fff760; @include gradient(#fff580, #fffba0);
  p { color:#333; font-style:normal; font-size:90%; margin:0; padding:0; }
}
/* bugs with chrome+td[multirow] */
.chrome-bug-on-scroll {
  border-top:none !important;
  th {
    border-top:1px solid #ccc;
    &:last-child { border-right:none; }
  }
}

/* placeholders */
:-moz-placeholder { color:#999; }
::-webkit-input-placeholder { color:#999; }

/* reset some styles on hover/focus/etc. */
::-moz-selection { background:#c00; color:#fff; text-shadow:none; }
::-webkit-selection { background:#c00; color:#fff; text-shadow:none; }
::selection { background:#c00; color:#fff; text-shadow:none; }
